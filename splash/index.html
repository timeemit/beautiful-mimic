<!DOCTYPE html>
<html>
<head>
  <title>beautiful mimic</title>
  <!-- Favicons -->
  <!-- Generated at http://www.favicon-generator.org -->
  <link rel='apple-touch-icon' sizes='57x57' href='images/favicons/apple-icon-57x57.png'>
  <link rel='apple-touch-icon' sizes='60x60' href='images/favicons/apple-icon-60x60.png'>
  <link rel='apple-touch-icon' sizes='72x72' href='images/favicons/apple-icon-72x72.png'>
  <link rel='apple-touch-icon' sizes='76x76' href='images/favicons/apple-icon-76x76.png'>
  <link rel='apple-touch-icon' sizes='114x114' href='images/favicons/apple-icon-114x114.png'>
  <link rel='apple-touch-icon' sizes='120x120' href='images/favicons/apple-icon-120x120.png'>
  <link rel='apple-touch-icon' sizes='144x144' href='images/favicons/apple-icon-144x144.png'>
  <link rel='apple-touch-icon' sizes='152x152' href='images/favicons/apple-icon-152x152.png'>
  <link rel='apple-touch-icon' sizes='180x180' href='images/favicons/apple-icon-180x180.png'>
  <link rel='icon' type='image/png' sizes='192x192' href='images/favicons/android-icon-192x192.png'>
  <link rel='icon' type='image/png' sizes='32x32' href='images/favicons/favicon-32x32.png'>
  <link rel='icon' type='image/png' sizes='96x96' href='images/favicons/favicon-96x96.png'>
  <link rel='icon' type='image/png' sizes='16x16' href='images/favicons/favicon-16x16.png'>
  <link rel='manifest' href='images/favicons/manifest.json'>
  <meta name='msapplication-TileColor' content='#ffffff'>
  <meta name='msapplication-TileImage' content='images/favicons/ms-icon-144x144.png'>
  <meta name='theme-color' content='#ffffff'>
  <!-- End Favicons -->

  <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css'>
  <link rel='stylesheet' href='stylesheet.css'>

  <script src='javascript.js'></script>
</head>
<body>

  <!-- Header -->
  <div class='header center'>
    <div class='pure-g'>
      <div class='pure-u-1-8'>
        <img class='logo' src='images/logo-yellow.png'>
      </div>
      <div class='pure-u-1-5'>
        <h1>
          <div class='pure-g'>
            <div class='pure-u-1 center-text logo-text'>beautiful</div>
            <div class='pure-u-1 center-text logo-text'>mimic</div>
          </div>
        </h1>
      </div>
    </div>
  </div>

  <div class='pure-g'>

    <div class='pure-u-1-4'>
      <div class='pure-g js-image-wizard'>
        <div class='pure-u-1'>
          <h1 class='center-text'>Photo</h1>
        </div>
        <div class='pure-u-1'>
          <div class='pure-g js-chosen'>
            <div class='pure-u-1 grey-border hover-yellow-border'>
              <img class='pure-img' src='images/marilyn-monroe.jpg'>
            </div>
            <button class='pure-button pure-u-1 center rounded-bottom'><i class='fa fa-2x fa-hand-pointer-o'></i></button>
          </div>
        </div>
        <div class='pure-u-1'>
          <div class='pure-g hidden image-drawer js-image-drawer'>
            <!-- Pointer -->
            <div class='pure-u-1-3'></div>
            <div class='pure-u-1-6 green-background pointer-up-left'></div>
            <div class='pure-u-1-6 green-background pointer-up-right'></div>
            <div class='pure-u-1-3'></div>

            <!-- Drawer -->
            <div class='pure-g drawer green-background green-border center'>
              <div class='pure-u-1'>
                <a href='http://app.beautifulmimic.com/mimics/new'class='center pure-button'><i class='fa fa-2x fa-upload'></i></a>
              </div>
              <div class='pure-u-1-2'>
                <div class='center img-ctrl js-active'>
                  <img class='pure-img center' src='images/marilyn-monroe.jpg'>
                </div>
              </div>
              <div class='pure-u-1-2'>
                <div class='center img-ctrl'>
                  <img class='pure-img center' src='images/frank-sinatra.jpg'>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class='pure-u-1-12'>
      <h1 class='center-text'>+</h1>
    </div>
    <div class='pure-u-1-4'>
      <div class='pure-g js-image-wizard'>
        <div class='pure-u-1'>
          <h1 class='center-text'>Style</h1>
        </div>
        <div class='pure-u-1'>
          <div class='pure-g js-chosen'>
            <div class='pure-u-1 grey-border hover-yellow-border'>
              <img class='pure-img' src='images/great-wave.jpg'>
            </div>
            <button class='pure-button pure-u-1 center rounded-bottom'><i class='fa fa-2x fa-hand-pointer-o'></i></button>
          </div>
        </div>
        <div class='pure-u-1'>
          <div class='pure-g hidden image-drawer js-image-drawer'>
            <!-- Pointer -->
            <div class='pure-u-1-3'></div>
            <div class='pure-u-1-6 green-background pointer-up-left'></div>
            <div class='pure-u-1-6 green-background pointer-up-right'></div>
            <div class='pure-u-1-3'></div>

            <!-- Drawer -->
            <div class='pure-g drawer green-background green-border center'>
              <div class='pure-u-1-2'>
                <div class='center img-ctrl'>
                  <img class='pure-img center' src='images/creation-of-adam.jpg'>
                </div>
              </div>
              <div class='pure-u-1-2'>
                <div class='center img-ctrl'>
                  <img class='pure-img center' src='images/starry-night.jpg'>
                </div>
              </div>
              <div class='pure-u-1-2'>
                <div class='center img-ctrl'>
                  <img class='pure-img center' src='images/bottle-of-anis.jpg'>
                </div>
              </div>
              <div class='pure-u-1-2'>
                <div class='center img-ctrl js-active'>
                  <img class='pure-img center' src='images/great-wave.jpg'>
                </div>
              </div>

            </div>
          </div>
        </div>
      </div>
    </div>
    <div class='pure-u-1-12'>
      <h1 class='center-text'>=</h1>
    </div>
    <div class='pure-u-1-3'>
      <img class='center' src='images/logo-yellow.png'>

      <!-- CTA -->
      <a href='http://app.beautifulmimic.com'>
        <div class='center img-ctrl'>
          <img class='pure-img center js-combo-img' src='images/combos/marilyn-monroe+great-wave.jpg'>
        </div>
      </a>
      <a href='http://app.beautifulmimic.com' class='pure-u-1 pure-button pure-button-active rounded-bottom'><i class='fa fa-4x'>+</i></a>
    </div>

  </div>

  <script>
    // Toggle the drawer visibility
    $('.js-chosen').click(function(){
      clearInterval(window.rotator);
      var $this = $(this);
      var $img = $this.closest('.js-image-wizard').find('.js-image-drawer');
      if ( $img.hasClass('hidden') ) {
        $img.removeClass('hidden').hide().fadeIn();
      } else {
        $img.fadeOut(400, function() {
          $(this).addClass('hidden');
        });
      }
    });

    // Choose an image
    $('.js-image-drawer .img-ctrl').click(function(){
      // Choose the image
      var $this = $(this);
      var src = $this.find('img').prop('src');
      $this.closest('.js-image-wizard').find('.js-active').removeClass('js-active');
      $this.closest('.js-image-wizard').find('.js-chosen img').prop('src', src);
      $this.addClass('js-active');
      determineCombo();
    });

    // Determine the combination photo when an image is changed.
    function determineCombo() {
      var re = /[a-zA-Z-]+(?=.jpg)/;
      var sources = $('.js-chosen img').map(function(i, item){
        return $(item).prop('src');
      });
      var contentTitle = sources[0].match(re)[0];
      var styleTitle = sources[1].match(re)[0];
      var comboSource = 'images/combos/'+contentTitle+'+'+styleTitle+'.jpg';
      $('.js-combo-img').prop('src', comboSource);
    }

    // Rotate through images every 4 seconds until a drawer is opened.
    function rotateImages() {
      // Collect context
      $active = $('.js-image-wizard').last().find('.js-active');
      index = $active.closest('.pure-u-1-2').index();

      // Deactivate previous image
      $active.removeClass('js-active');

      // Activate next image
      $images = $active.closest('.drawer').find('.img-ctrl');
      if ( index + 1 == $images.length || index < 0 ) {
        $images.first().trigger('click');
      } else {
        $($images.get(index+1)).trigger('click');
      }
    }

    window.rotator = setInterval(rotateImages, 4000)
  </script>

  <!-- Google Analytics -->
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-74782906-2', 'auto');
    ga('send', 'pageview');
  </script>
</body>
</html>
